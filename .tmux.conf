bind-key R source-file "~/.tmux.conf"\; display-message "config reloaded"

# Select windows with alt-[1-9]
#  Zero is moved to the end so the windows are selected in the same order as the number row (1-9, 0)
#  "-n" puts these binds in the root table (i.e., they don't need a prefix)
bind-key -n M-1 select-window -t 0
bind-key -n M-2 select-window -t 1
bind-key -n M-3 select-window -t 2
bind-key -n M-4 select-window -t 3
bind-key -n M-5 select-window -t 4
bind-key -n M-6 select-window -t 5
bind-key -n M-7 select-window -t 6
bind-key -n M-8 select-window -t 7
bind-key -n M-9 select-window -t 8
bind-key -n M-0 select-window -t 9

# Quick Pane Commands
#   Select Panes with alt-[q-u]
bind-key -n M-q select-pane -t 0
bind-key -n M-w select-pane -t 1
bind-key -n M-e select-pane -t 2
bind-key -n M-r select-pane -t 3
bind-key -n M-t select-pane -t 4
bind-key -n M-y select-pane -t 5
bind-key -n M-u select-pane -t 6

#  Create new panes with alt-a ikjl
#    -b flips the location of the window (below -> above, right -> left)
bind-key -n M-a switch-client -Tcreate
bind-key -Tcreate i split-window -b -v
bind-key -Tcreate k split-window -v
bind-key -Tcreate j split-window -b -h
bind-key -Tcreate l split-window -h

#  Create new windows with alt-n w
bind-key -Tcreate w new-window


# Generical Options
set-option focus-events on

# set history limit to use the max value allowed: INT_MAX
set-option -g history-limit 2147483647

# Status Line
set-option -g status-position top
set-option -g status-style "bg=cyan fg=black"

#  Window List
set-option -g status-justify centre
set-option -g window-status-format " #{window_name} "
set-option -g window-status-style ""
set-option -g window-status-last-style ""
set-option -g window-status-current-style "bg=black fg=white"
set-option -g window-status-current-format " #{window_name} "
set-option -g window-status-separator ""

#   Left:
#  - battery percent
set-option -g status-left " #(~/scripts/battery-status) "


# Pane Style

set-option -g pane-border-style "fg=grey"
set-option -g pane-active-border-style "fg=cyan"
set-option -g pane-border-status bottom
set-option -g pane-border-format "[#[push-default bg=black fg=grey]  #P #{pane_title}  #[fg=default bg=default pop-default]]"
set-option -g pane-border-lines heavy

# Mouse Options

set-option -g mouse on

# Copy Mode

set-option -g mode-style "reverse" # swap fg and bg when selecting text
set-option -g copy-command "xclip -i -selection clipboard"
set-option -g mode-keys emacs

# don't copy immediately
unbind -Tcopy-mode MouseDragEnd1Pane

# use normal copy/paste keys for X copy/paste
bind-key -Tcopy-mode C-c send-key -X pipe-no-clear
bind-key -n C-v run -b "tmux set-buffer \"$(xclip -o -selection clipboard)\" \\; paste-buffer -d"

# Click to cancel copy-mode
bind-key -Tcopy-mode MouseDown1Pane copy-mode -q\; send-key -M MouseDown1Pane

# Double click to select word
bind-key -n DoubleClick1Pane copy-mode -M\; send-key -X select-word

